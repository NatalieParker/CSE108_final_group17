{% extends "base.html" %}
{% block title %}CSE 108 Final: Home{% endblock %}
{% block body %}

  <h1>Browse Shows</h1>

  <div class="panel">

    <div style="width: 40%;">
      <label for="titleSearch">Search Title:</label>
      <input
        type="text"
        id="titleSearch"
        placeholder="Search by title"
        style="height: 2.5rem; margin-bottom: 1rem;"
      >

      <label for="genreDropdown">Genre:</label>
      <select id="genreDropdown" style="margin-bottom: 1rem;">
        <option value="">All</option>
        <option value="international tv shows">International TV Shows</option>
        <option value="tv dramas">TV Dramas</option>
        <option value="docuseries">Docuseries</option>
        <option value="reality tv">Reality TV</option>
        <option value="teen tv shows">Teen TV Shows</option>
        <option value="anime series">Anime Series</option>
        <option value="crime tv shows">Crime TV Shows</option>
        <option value="tv action & adventure">TV Action & Adventure</option>
        <option value="tv mysteries">TV Mysteries</option>
        <option value="romantic tv shows">Romantic TV Shows</option>
        <option value="tv horror">TV Horror</option>
        <option value="british tv shows">British TV Shows</option>
        <option value="spanish-language tv shows">Spanish-Language TV Shows</option>
        <option value="tv thrillers">TV Thrillers</option>
        <option value="kids' tv">Kids' TV</option>
        <option value="tv sci-fi & fantasy">TV Sci-Fi & Fantasy</option>
        <option value="korean tv shows">Korean TV Shows</option>
        <option value="science & nature tv">Science & Nature TV</option>
      </select>

      <label for="ratingDropdown">Rating:</label>
      <select id="ratingDropdown" style="height: 2.5rem;">
        <option value="">All</option>
        <option value="TV-MA">TV-MA</option>
        <option value="TV-14">TV-14</option>
        <option value="TV-Y7">TV-Y7</option>
        <option value="TV-PG">TV-PG</option>
        <option value="TV-Y">TV-Y</option>
        <option value="TV-G">TV-G</option>
      </select>
    </div>
  </div>
  <div id="showGrid" class="grid">
    {% for show in shows %}
      <a
        class="card show-card"
        href="{{ url_for('show_detail', show_id=show.id) }}"
        style="text-decoration:none;"
        data-title="{{ show.title | lower }}"
        data-genre="{{ show.genres | lower if show.genres }}"
        data-rating="{{ show.rating }}"
      >
        <img
          class="cover"
          src="{{ show.cover or url_for('static', filename='covers/default.jpg') }}"
          alt="{{ show.title }} cover"
        >
        <div class="card-body">
          <div class="card-title">{{ show.title }}</div>
          <div class="card-meta">
            <span>{{ show.release_year or "—" }}</span>
            <span>•</span>
            <span>{{ show.rating or "—" }}</span>
            <span>•</span>
            <span>{{ show.seasons or "—" }}</span>
          </div>
        </div>
      </a>
    {% endfor %}
  </div>
  

  <script src="{{ url_for('static', filename='main.js') }}"></script>
{% endblock %}
